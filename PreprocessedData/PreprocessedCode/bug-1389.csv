"FilePath","PreprocessedCode"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/core/Collection.java","collection java implement the collection collection hold list radio station file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor core android net uri android util log java file java file output stream java exception java util collection java util link list collection collection define log tag string log tag collection get simple name main variable file folder link list station station station index change constructor collection file folder file nomedia file folder nomedia folder folder create folder folder exist log log tag create folder folder folder string folder mkdir create nomedia file prevent mediastore scanning nomedia exist log log tag create nomedia file folder folder string file output stream media out stream file output stream nomedia media out stream write exception log log tag unable write nomedia file folder folder string create array list station station link list create array file from folder file list file folder list file list file null fill array list station file list file list file list file file list file string end with create station from file station station station list file station get stream uri null station add station sort station collection sort station value station index change station index change add station collection add station station station get station name null station get stream uri null unique station station get station playlist file exist add station array list station station add station save playlist file station local storage station write playlist file folder station get station image null save playlist file station local storage station write image file sort station collection sort station log log tag unable add station collection duplicate name and stream url delete station within collection delete station success delete playlist file file station playlist file station get station get station playlist file station playlist file exist station playlist file delete success delete station image file file station image file station get station get station image file station image file exist station image file delete success remove station success station remove station success rename station within collection rename station string station name station station station get station string old station name station get station name name station station name null station name equal old station name get reference old file file old station playlist file station get station playlist file file old station image file station get station image file set station name file and image file give station station set station name station name station set station playlist file folder station set station image file folder rename playlist file old station playlist file delete station write playlist file folder rename image file file station image file station get station image file old station image file rename station image file sort station collection sort station save index change index station index station index station station index change index name station null not getter folder file get folder folder getter station link list station get station station getter station index change get station index change station index change string method collection station override string string string collection string string builder string builder station station station append station string append collection string string collection string check duplicate station unique station station traverse station station station station compare station with exist station uri stream urus station get stream uri uri stream uri station get stream uri compare url stream stream uri equal stream uri log log tag stream url station get station name equal stream url station get station name stream urus log log tag station get station name have unique stream url station get stream uri"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/core/Station.java","station java implement the station station handle station related datum the name and the streaming url file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor core android graphic bitmap android graphic bitmap factory android net uri android util log java buffer reader java buffer writer java file java file output stream java file reader java file writer java exception java input stream java input stream reader java net http url connection java net malformed url exception java net url java util array java util scanner station station implement comparable station define log tag string log tag station get simple name support audio file content type string content type mpeg audio mpeg string content type ogg audio ogg application ogg support playlist content type string content type pls audio scpl string content type audio mpegurl application vnd apple mpegurl charset utf audio mpegurl charset utf main variable bitmap station image file station image file string station name file station playlist file uri stream uri string playlist file content station fetch error constructor when give file from the collection folder station file file set station playlist file and filename station playlist file file read and parse station playlist file station playlist file exist parse read playlist file station playlist file set image file object file folder station playlist file get parent file folder null set station image file folder constructor when give folder and remote location station file folder url file location determine content type remote file string content type get content type file location log log tag content type give file content type content type raw audio file audio file content type use raw audio file station datum stream uri uri parse file location string trim station name get station name file location set station fetch error content type playlist playlist content type download and parse station datum from playlist file playlist file content download playlist file file location parse result download playlist file parse playlist file content stream uri audio file station name get station name file location set station fetch error playlist file content playlist file content file probably not contain valid streaming url set station fetch error content type none the above set error flag and set station fetch error set transistor playlist file object set station playlist file folder download favicon and store bitmap object download image file file location set transistor image file object set station image file folder constructor when give folder and file card station file folder uri file location file local file file file location get path read local file and put result into playlist file content local file exist playlist file content read playlist file local file log log tag file not exist local file parse the raw content playlist file playlist file content parse playlist file content stream uri audio file station fetch error playlist file content playlist file content file probably not contain valid streaming url station fetch error set transistor playlist file object set station playlist file folder set transistor image file object set station image file folder compare two station override compare station other station name station greater than name give station station name compare ignore other station station name custom string method override string string station station name station name station playlist file station playlist file stream uri stream uri construct string representation station playlist file string create construct string string builder string builder append extm append extinf append station name append append stream uri string append string download remote playlist file string download playlist file url file location log log tag download file location string buffer reader buffer reader input stream reader file location open stream string line counter string builder string builder read until last last reach until line five line read line null counter append line append counter length log log tag input stream empty file location string set playlist file content and string playlist file content string string exception log log tag unable get playlist file from server file location string set playlist file content and null playlist file content http error unable get playlist file from server file location string null read local playlist file string read playlist file file playlist file buffer reader buffer reader file reader playlist file string line counter string builder string builder read until last line reach until line five line read line null counter append line append counter set playlist file content and string playlist file content string string exception log log tag unable read playlist file playlist file string set playlist file content and null playlist file content error unable read playlist file playlist file string null content type give url string get content type url file location http url connection connection http url connection file location open connection connection set connect timeout connection set read timeout connection get content type exception print stack trace null determine give content type playlist playlist string content type string array string content type pls content type array list array contain content type determine give content type audio file audio file string content type string array string content type mpeg content type ogg array list array contain content type check stream uri station valid audio file stream uri audio file stream uri null determine content type remote file url stream url url stream uri string string content type get content type stream url log log tag content type url within playlist content type audio file content type malformed url exception print stack trace determine name station base the location url string get station name url file location url string station name string file location file location url string station name start file location last index station name end file location last index cut out station name from give url station name start station name end station name file location substr station name start station name end station name file location station name download remote favicon file download image file url file location get domain string host file location get host strip subdomain and add www necessary host start with www index host index host www host substr index get favicon location string favicon location http host favicon ico download favicon log log tag download favicon favicon location input stream url favicon location open stream station image bitmap factory decode stream exception log log tag error download favicon location parse string representation station playlist file parse string file content playlist file content file content check null file content null prepare scanner scanner scanner file content string line have next line get line from file content line next line find station name line contain extinf station name line substr trim find stream url line start with http stream uri uri parse line trim pls find station name line start with title station name line substr trim pls find stream url line start with file http stream uri uri parse line substr trim close stream uri null log log tag unable parse file content construct name station from remote station playlist file name station playlist file null station name null station name station playlist file get name substr station playlist file get name last index station playlist file null station name null station name station file content string parse successfully write station storage write playlist file file folder set station playlist file folder station playlist file exist log log tag file exist overwrite station playlist file get name station name stream uri log log tag save station playlist file string string string create buffer writer buffer writer file writer station playlist file write string exception log log tag unable write playlist file station playlist file string write station image png storage write image file log log tag save favicon station image file string write image storage file output stream out file output stream station image file station image compress bitmap compress format png out exception log log tag unable save favicon station image string getter download error flag get station fetch error station fetch error getter playlist file object represent station file get station playlist file station playlist file getter file object represent station image file get station image file station image file getter raw content playlist file string get playlist file content playlist file content getter station image bitmap get station image station image getter name station string get station name station name setter playlist file object station set station playlist file file folder station name null strip out problematic character string station name clean station name replace all construct location playlist file from station name and folder string file location folder string station name clean station playlist file file file location setter image file object station set station image file file folder station name null strip out problematic character string station name clean station name replace all construct location png image file from station name and folder string file location folder string station name clean png station image file file file location setter download error flag set station fetch error station fetch error station fetch error station fetch error setter name station set station name string station name station name station name getter url stream uri get stream uri stream uri setter url station set stream uri uri stream uri stream uri stream uri"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/InfosheetActivity.java","infosheet activity java implement the app infosheet activity the infosheet activity set the infosheet html textview file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor android content intent android bundle android support app app compat activity infosheet activity infosheet activity extend app compat activity keys string title title override protect create bundle save instance state create save instance state get activity title from intent intent intent get intent string title intent get extras get string title set activity title title null set title title set view set content view layout activity infosheet"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/PlayerActivityFragment.java","player activity fragment java implement the main fragment the player activity fragment detail view with the ability start and stop playback file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor android manifest android app activity android content broadcast receiver android content clip data android content clipboard manager android content context android content intent android content intent filter android content share preferences android content manager android graphic bitmap android graphic bitmap factory android net uri android bundle android environment android preference preference manager android support annotation non null android support design widget snackbar android support app activity compat android support app fragment android support content local broadcast manager android support environment compat android util log android view layout inflater android view menu item android view view android view view group android view animation animation android view animation animation utils android widget image button android widget image view android widget text view android widget toast org transistor core collection org transistor helper dialog delete org transistor helper dialog rename org transistor helper image helper org transistor helper sleep timer service java file java file output stream java exception player activity fragment player activity fragment extend fragment define log tag string log tag player activity fragment get simple name keys string stream uri stream urus string station name station name string station station string station current station current string station last station last string playback playback string action playback stop org transistor action playback stop string action timer running org transistor action timer run string extra timer remaining timer remaining request load image permission request read external storage main variable activity activity view root view string station name string stream uri text view station name view image view station image view image button playback button image view playback indicator station station current station last playback collection collection player service player service sleep timer service sleep timer service snackbar timer notification string timer notification message constructor player activity fragment override create bundle save instance state create save instance state get activity activity get activity get notification message timer notification message activity get string string snackbar message timer set get station name url and from intent intent intent activity get intent station intent get extra station station name intent get string extra station name stream uri intent get string extra stream uri load playback state from preference load playback state activity station set station station station current get collection from external storage collection collection get collection directory collection get url and name stream stream uri collection get station get station get stream uri string station name collection get station get station get station name fragment have option menu set have options menu override resume resume set button symbol and playback indicator set visual state override view create view layout inflater inflater view group container bundle save instance state set image station bitmap station image small image helper image helper collection get station get station get station image file exist station image small bitmap factory decode file collection get station get station get station image file string station image small bitmap factory decode resource get resources drawable notesymbol image helper image helper station image small activity image helper set background color color transistor grey lighter bitmap station image image helper create circular framed image initiate playback service player service player service inflate rootview from xml root view inflater inflate layout fragment player container find view station name and image and playback indicator station name view text view root view find view player textview stationname station image view image view root view find view player imageview station icon playback indicator image view root view find view player playback indicator set station image station image null station image view set image bitmap station image set text view station name station name view set text station name set listener clipboard copy station name view set click listener view click listener override click view copy station clipboard construct image button playback button image button root view find view player playback button set listener playback button playback button set click listener view click listener override click view view playback stop station start playback playback station station current set playback playback rotate playback button change visual state activity start player log log tag start player service player service start action play activity stream uri station name playback active stop playback set playback playback rotate playback button change visual state activity stop player log log tag stop player service player service start action stop activity save state playback setting store save playback state activity broadcast receiver player service stop playback broadcast receiver playback stopped receiver broadcast receiver override receive context context intent intent set playback playback rotate playback button change visual state context save state playback setting save playback state context intent filter playback intent filter intent filter action playback stop local broadcast manager get instance activity register receiver playback stopped receiver playback intent filter broadcast receiver player service stop playback broadcast receiver sleep timer start receiver broadcast receiver override receive context context intent intent get duration from intent remain intent get extra extra timer remaining remain timer notification dismiss timer notification set text timer notification message remain intent filter sleep timer intent filter intent filter action timer running local broadcast manager get instance activity register receiver sleep timer start receiver sleep timer intent filter root view override option item selected menu item item item get item timer menu timer duration sleep timer service null sleep timer service sleep timer service sleep timer service start action start activity duration show timer notification duration duration player service get timer remain player service set sleep timer activity duration player service show timer notification activity root view duration icon menu icon get system picker image select from image picker rename menu rename construct rename dialog dialog rename dialog rename dialog rename activity collection station name station dialog rename set station renamed listener dialog rename station renamed listener override station rename station name view set text dialog rename get station name run dialog dialog rename show delete menu delete stop playback player service start action stop activity construct delete dialog dialog delete dialog delete dialog delete activity collection station dialog delete set station deleted listener dialog delete station deleted listener override station deleted start main activity intent main activity start intent intent activity main activity start activity main activity start intent finish player activity activity finish run dialog dialog delete show option item selected item override request permissions result request code non null string permission non null grant result request permissions result request code permission grant result request code permission request read external storage grant result length grant result manager permission grant permission grant get system picker image intent pick image intent intent intent action pick android provider media store image media external content uri start activity result pick image intent request load image permission deny toast make text activity activity get string string toastalert permission deny read external storage toast length show override activity result request code result code intent datum activity result request code result code datum request code request load image result code activity result null datum retrieve select image from image picker process image datum get datum copy station date system clipboard copy station clipboard stream uri null station name null prepare clip string station datum station name stream uri clip data clip clip data plain text simple text station datum copy clip clipboard clipboard manager clipboard manager activity get system service context clipboard service set primary clip clip notify user toast make text activity activity get string string toastmessage station copy toast length show process image and save storage process image uri image urus image helper image helper image helper image urus activity bitmap image image helper get input image image null write image storage file station image file collection get station get station get station image file file output stream out file output stream station image file image compress bitmap compress format png out exception log log tag unable save image string change station image view image helper set background color color transistor grey lighter bitmap station image image helper create circular framed image station image view set image bitmap station image log log tag unable get image from media picker image uri string animate button and then set visual state change visual state context context get rotate animation from xml animation rotate playback playback have start get start animation rotate animation utils load animation context anim rotate clockwise slow playback have stop get stop animation rotate animation utils load animation context anim rotate counterclockwise fast attach listener animation end rotate set animation listener animation animation listener override animation start animation animation override animation end animation animation set button symbol and playback indicator afterwards set visual state override animation repeat animation animation start animation button playback button start animation rotate show notification run timer show timer notification remain time timer notification snackbar make root view timer notification message remain time snackbar length indefinite timer notification set action string dialog generic button cancel view click listener override click view view sleep timer service start action stop activity log log tag sleep timer cancel timer notification show set button symbol and playback indicator set visual state station run playback station station current change playback button image stop playback button set image resource drawable smbl stop change playback indicator playback indicator set background resource drawable playback indicator start playback stop change playback button image play playback button set image resource drawable smbl play change playback indicator playback indicator set background resource drawable playback indicator stop save station name and and playback state share preferences save playback state context context playback start playback station last station current station current station playback stop station last station current share preferences setting preference manager get shared preferences context share preferences editor editor setting edit editor put station current station current editor put station last station last editor put playback playback editor apply load playback state from preference load playback state context context share preferences setting preference manager get shared preferences context station current setting get station current station last setting get station last playback setting get playback check permission and start image picker select from image picker permission read external storage grant activity compat check self permission activity manifest permission read external storage manager permission grant get system picker image intent pick image intent intent intent action pick android provider media store image media external content uri start activity result pick image intent request load image permission read external storage grant activity compat should show request permission rationale activity manifest permission read external storage ask permission and explain why snackbar snackbar snackbar make root view activity get string string snackbar request storage access snackbar length indefinite snackbar set action string dialog generic button okay view click listener override click view view request permission string manifest permission read external storage permission request read external storage snackbar show ask permission without explanation request permission string manifest permission read external storage permission request read external storage writeable sub directory from external storage file get collection directory string sub directory file storage activity get external files dirs sub directory file file storage string state environment compat get storage state file environment media mount equal state log log tag external storage file string file toast make text activity activity get string string toastalert external storage toast length show log log tag unable access external storage finish activity activity finish null"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/MainActivity.java","main activity java implement the app main activity the main activity set the main view end inflate menubar menu file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor android content intent android bundle android support annotation non null android support app fragment android support app app compat activity android view menu android view menu inflater main activity main activity extend app compat activity override protect create bundle save instance state create save instance state set content view layout activity main override protect intent intent intent intent intent activity open second time set intent intent set intent intent override create option menu menu menu inflate the menu item use the action bar menu inflater inflater get menu inflater inflater inflate menu menu main actionbar menu create option menu menu workaround illegal state exception crash fragment not attach activity see http github com transistor issue override protect activity result request code result code intent datum fragment fragment get support fragment manager find fragment fragment main hand result over fragment main fragment activity result request code result code datum override request permissions result request code non null string permission non null grant result fragment fragment get support fragment manager find fragment fragment main hand result over fragment main fragment request permissions result request code permission grant result"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/PlayerActivity.java","player activity java implement the app player activity the player activity set the now play view and inflate menubar menu file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor android bundle android support app app compat activity android view menu player activity player activity extend app compat activity override protect create bundle save instance state create save instance state set content view layout activity player override create option menu menu menu inflate the menu add item the action bar present get menu inflater inflate menu menu player actionbar menu create option menu menu"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/PlayerService.java","player service java implement the app playback background service the player service play streaming audio file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor android app notification manager android app service android content broadcast receiver android content context android content intent android content intent filter android content share preferences android media audio manager android media media player android binder android preference preference manager android support annotation nullable android support content local broadcast manager android util log android widget toast org transistor helper notification helper java exception player service player service extend service implement audio manager audio focus change listener media player buffer update listener media player completion listener media player prepare listener media player error listener media player info listener define log tag string log tag player service get simple name keys string action play org transistor action play string action stop org transistor action stop string action playback start org transistor action playback start string action playback stop org transistor action playback stop string extra stream uri stream uri string playback playback player service notification main variable audio manager audio manager media player media player string stream uri playback player instance counter headphone unplug receiver headphone unplug receiver constructor player service override create create set variable audio manager audio manager get system service context audio service media player null player instance counter listen headphone unplug intent filter headphone unplug intent filter intent filter audio manager action audio becoming noisy headphone unplug receiver headphone unplug receiver register receiver headphone unplug receiver headphone unplug intent filter todo listen headphone button use media session override start command intent intent flag start check empty intent intent null log log tag null intent receive stop self stop self action play intent get action equal action play log log tag service receive command play set playback playback get url station from intent intent have extra extra stream uri stream uri intent get string extra extra stream uri start playback prepare playback increase counter player instance counter action stop intent get action equal action stop log log tag service receive command stop set playback playback stop playback finish playback reset counter player instance counter value media playback start sticky nullable override binder bind intent intent null override audio focus change focus change focus change gain audio focus unknown duration audio manager audiofocus gain playback media player null initialize media player media player play media player start media player set volume loss audio focus unknown duration audio manager audiofocus loss finish playback loss audio focus audio manager audiofocus loss playback media player null media player play finish playback playback media player null media player play media player pause temporary external request audio focus audio manager audiofocus loss can duck media player null media player play media player set volume override completion media player log log tag resume playback after completion signal loss player instance count player instance counter media player reset player instance counter initialize media player override prepare media player player instance counter log log tag preparation finish start playback player instance count player instance counter log log tag stream uri start media player start decrease counter player instance counter log log tag stop and initialize media player player instance count player instance counter release media player release media player decrease counter player instance counter initialize media player player instance counter initialize media player override error media player what extra what media player media error unknown log log tag unknown media playback error media player media error server die log log tag connection server lose log log tag generic audio playback error extra media player media error log log tag media error media player media error malformed log log tag malformed media media player media error unsupported log log tag unsupported content type media player media error time out log log tag media timeout log log tag other media playback error reset override info media player what extra what media player media info unknown log log tag unknown media info media player media info buffering start log log tag buffer start media player media info buffering end log log tag buffer finish media player media info metadata update never select log log tag metadata available log log tag other media info override buffering update media player percent log log tag buffer percent override destroy destroy log log tag destroy call save state playback save playback state unregister receiver unregister receiver headphone unplug receiver retrieve notification system service and cancel notification notification manager notification manager notification manager get application get system service context notification service notification manager cancel player service notification method start the player start action play context context string stream urus string station name log log tag start playback service stream uri stream uri stream urus start player service use intent intent intent intent context player service intent set action action play intent put extra extra stream uri stream uri context start service intent put notification notification helper notification helper notification helper context notification helper set station name station name notification helper create notification method stop the player start action stop context context log log tag stop playback service stop player service use intent intent intent intent context player service intent set action action stop context start service intent set the media player initialize media player media player media player media player set audio stream type audio manager stream music media player set completion listener media player set prepared listener media player set error listener media player set info listener media player set buffer update listener media player set data source stream uri media player prepare async log log tag set stream uri exception print stack trace release the media player release media player media player null media player play media player stop media player reset media player release media player null prepare playback prepare playback stop run player media player null media player play release media player request focus and initialize media player stream uri null request focus initialize media player save state playback save playback state send local broadcast need main activity fragment intent intent set action action playback start local broadcast manager get instance get application send broadcast finish playback finish playback release player release media player save state playback save playback state send local broadcast need player activity fragment and main activity fragment intent intent set action action playback stop local broadcast manager get instance get application send broadcast retrieve notification system service and cancel notification notification manager notification manager notification manager get application get system service context notification service notification manager cancel player service notification request audio manager focus request focus result audio manager request audio focus audio manager stream music audio manager audiofocus gain result audio manager audiofocus request grant save state playback save playback state share preferences setting preference manager get shared preferences get application share preferences editor editor setting edit editor put playback playback editor apply inner receiver headphone unplug signal headphone unplug receiver extend broadcast receiver override receive context context intent intent playback audio manager action audio becoming noisy equal intent get action log log tag headphone unplugged stop playback stop playback finish playback notify user toast make text context context get string string toastalert headphone unplugged toast length show end inner"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/MainActivityFragment.java","main activity fragment java implement the main fragment the main activity fragment list view radio station file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor android manifest android app activity android app application android content broadcast receiver android content context android content intent android content intent filter android content share preferences android content manager android graphic bitmap android graphic bitmap factory android net uri android bundle android environment android parcelable android vibrator android preference preference manager android support annotation non null android support design widget snackbar android support app activity compat android support app fragment android support content local broadcast manager android support environment compat android util log android view layout inflater android view menu item android view view android view view group android widget adapter view android widget list view android widget toast org transistor core collection org transistor helper collection adapter org transistor helper dialog add station org transistor helper image helper org transistor helper station fetcher java file java file output stream java exception java util link list main activity fragment main activity fragment extend fragment define log tag string log tag main activity fragment get simple name keys string action collection change org transistor action collection change string action playback start org transistor action playback start string action playback stop org transistor action playback stop string action image change requested org transistor action image change request string list state list state string stream uri stream urus string station name station name string station station string station current station current string station last station last string playback playback string title title string content content request load image permission request image picker read external storage permission request station fetcher read external storage main variable application application activity activity collection collection collection adapter collection adapter null file folder link list string station name link list bitmap station image view root view list view list view parcelable list state temp station image uri station uri player service player service constructor main activity fragment override create bundle save instance state create save instance state get activity and application context activity get activity application activity get application initiate playback service player service player service set list state null list state null initialize temporary station image temp station image get collection folder from external storage folder get collection directory collection fragment have option menu set have options menu create adapter collection station name link list station image link list collection adapter collection adapter activity station name station image listen datum change collection adapter collection adapter set collection changed listener collection adapter collection changed listener override collection change refresh station list initialize broadcast receiver initialize broadcast receivers override view create view layout inflater inflater view group container bundle save instance state get list state from save instance save instance state null list state save instance state get parcelable main activity fragment list state inflate rootview from xml root view inflater inflate layout fragment main container get reference list view from inflated root view list view list view root view find view main listview collection attach adapter list view list view set adapter collection adapter attach item click listener list view single tap list view set item click listener adapter view item click listener inner method override item click listener override item click adapter view parent view view position collection null get station name and url from position string station name collection get station get integer collection adapter get item position get station name string stream urus collection get station get integer collection adapter get item position get stream uri string add name url and station intent intent intent intent activity player activity intent put extra station name station name intent put extra stream uri stream urus intent put extra station position start activity with intent start activity intent attach item click listener list view tap and hold list view set item click listener adapter view item click listener override item click adapter view parent view view position handle click position list view root view override resume resume handle incoming intent handle station intent override start start fill collection adapter with station refresh station list override option item selected menu item item item get item action bar add menu add dialog add station dialog dialog add station activity dialog show action bar menu about menu about get title and content string title activity get string string header about string content activity get string string html about create intent intent intent intent activity infosheet activity put title and content intent intent put extra title title intent put extra content content start activity start activity intent action bar menu how menu howto get title and content string title activity get string string header howto string content activity get string string html howto create intent intent intent intent activity infosheet activity put title and content intent intent put extra title title intent put extra content content start activity start activity intent option item selected item override save instance state bundle out state save instance state out state save list view position list state list view save instance state out state put parcelable list state list state fill collection adapter fill collection adapter bitmap station image bitmap station image small string station name image helper image helper create collection log log tag create collection station folder folder string collection collection folder put station into collection adapter collection get station size set name station station name collection get station get get station name add name link list name station names add station name set image station collection get station get get station image file exist station image station image small bitmap factory decode file collection get station get get station image file string image station image small bitmap factory decode resource activity get resources drawable notesymbol image helper image helper station image small activity image helper set background color color transistor grey lighter station image image helper create circular framed image add image link list image station images add station image collection adapter set collection collection collection adapter notify data set change fill collection adapter with station refresh station list clear and refill collection adapter station names empty station images empty station names clear station images clear fill collection adapter show call action necessary view actioncall root view find view main actioncall layout collection adapter empty actioncall set visibility view visible actioncall set visibility view gone log log tag refreshing list station handle external tap streaming link handle station intent get intent intent intent activity get intent check intent tyoe view intent action view equal intent get action station uri intent get datum clear the intent intent set action check null and type http station uri null station uri get scheme start with http notify user toast make text activity activity get string string toastmessage add download start station uri string toast length show download and add station fetch station station uri station uri null station uri get scheme start with file notify user toast make text activity activity get string string toastmessage add open file start station uri string toast length show check read permission request permission read external storage permission request station fetcher read external storage read and add station fetch station station uri unsuccessful log failure log log tag receive empty intent initialize broadcast receiver fot create initialize broadcast receivers broadcast receiver player service stop playback broadcast receiver playback stopped receiver broadcast receiver override receive context context intent intent refresh station list intent filter playback stopped intent filter intent filter action playback stop local broadcast manager get instance application register receiver playback stopped receiver playback stopped intent filter broadcast receiver player service stop playback broadcast receiver playback start receiver broadcast receiver override receive context context intent intent refresh station list intent filter playback start intent filter intent filter action playback start local broadcast manager get instance application register receiver playback start receiver playback start intent filter broadcast receiver station add delete change broadcast receiver collection change receiver broadcast receiver override receive context context intent intent refresh station list intent filter collection change intent filter intent filter action collection change local broadcast manager get instance application register receiver collection change receiver collection change intent filter broadcast receiver listen request change station image broadcast receiver image change request receiver broadcast receiver override receive context context intent intent get station and save temp station image intent get extra station start image picker select from image picker intent filter image change request intent filter intent filter action image change requested local broadcast manager get instance application register receiver image change request receiver image change request intent filter override request permissions result request code non null string permission non null grant result request permissions result request code permission grant result request code permission request image picker read external storage grant result length grant result manager permission grant permission grant get system picker image intent pick image intent intent intent action pick android provider media store image media external content uri activity start activity result pick image intent request load image permission deny toast make text activity activity get string string toastalert permission deny read external storage toast length show permission request station fetcher read external storage grant result length grant result manager permission grant permission grant fetch station from give uri fetch station station uri permission deny toast make text activity activity get string string toastalert permission deny read external storage toast length show override activity result request code result code intent datum activity result request code result code datum request code request load image result code activity result null datum retrieve select image from image picker process image datum get datum process image and save storage process image uri image urus image helper image helper image helper image urus activity bitmap image image helper get input image image null write image storage file station image file collection get station get temp station image get station image file file output stream out file output stream station image file image compress bitmap compress format png out exception log log tag unable save image string log log tag unable get image from media picker image uri string check permission and start image picker select from image picker request read permission request permission read external storage permission request image picker read external storage get system picker image intent pick image intent intent intent action pick android provider media store image media external content uri activity start activity result pick image intent request load image request read permission request permission read external storage request type permission read external storage grant activity compat check self permission activity manifest permission read external storage manager permission grant permission read external storage not grant activity compat should show request permission rationale activity manifest permission read external storage ask permission and explain why snackbar snackbar snackbar make root view activity get string string snackbar request storage access snackbar length indefinite snackbar set action string dialog generic button okay view click listener override click view view activity compat request permission activity string manifest permission read external storage request type snackbar show ask permission without explanation activity compat request permission activity string manifest permission read external storage request type handle click list item handle click position station current station last get current playback state share preferences setting preference manager get shared preferences activity station current setting get station current playback setting get playback playback position station current stop playback service player service start action stop activity set playback state station last station current playback inform user toast make text activity activity get string string toastmessage press playback stop toast length show start playback service string station name collection get station get integer collection adapter get item position get station name string stream urus collection get station get integer collection adapter get item position get stream uri string player service start action play activity stream urus station name set playback state station last station current station current position playback inform user toast make text activity activity get string string toastmessage press playback start toast length show vibrate millisecond vibrator vibrator activity get system service context vibrator service vibrate save station name and share preferences editor editor setting edit editor put station current station current editor put station last station last editor put playback playback editor apply refresh view refresh station list fetch station with give uri fetch station uri station urus download and add station station fetcher station fetcher station fetcher station urus activity station fetcher execute send local broadcast intent intent set action action collection change local broadcast manager get instance activity send broadcast writeable sub directory from external storage file get collection directory string sub directory file storage activity get external files dirs sub directory file file storage string state environment compat get storage state file environment media mount equal state log log tag external storage file string file toast make text activity activity get string string toastalert external storage toast length show log log tag unable access external storage finish activity activity finish null"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/InfosheetActivityFragment.java","infosheet activity fragment java implement the infosheet fragment the infosheet activity fragment show html textview file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor android app fragment android content intent android bundle android text html android text method scroll movement method android view layout inflater android view view android view view group android widget text view infosheet activity fragment infosheet activity fragment extend fragment keys string content content override create bundle save instance state create save instance state override view create view layout inflater inflater view group container bundle save instance state intent intent get activity get intent string content intent get extras get string content inflate rootview from xml view root view inflater inflate layout fragment infosheet container find text view text view text view text view root view find view infosheet textview allow scroll text view set movement method scroll movement method display html text text view set text html from html content view root view"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/DialogError.java","dialog error java implement the dialog error dialog error show error dialog with detail file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android app alert dialog android content dialog android text method scroll movement method android view layout inflater android view view android widget text view org transistor dialog error dialog error main variable activity activity string error title string error message string error detail constructor dialog error activity activity string error title string error message string error detail activity activity error title error title error message error message error detail error detail construct and show dialog show prepare dialog builder layout inflater inflater layout inflater from activity alert dialog builder builder alert dialog builder activity get view view view inflater inflate layout dialog error null text view error title view text view view find view dialog error title text view error message view text view view find view dialog error message text view error detail link view text view view find view dialog error detail link text view error detail view text view view find view dialog error detail allow scroll detail view error detail view set movement method scroll movement method show and hide detail error detail link view set click listener view click listener override click view error detail view get visibility view gone error detail view set visibility view visible error detail view set visibility view gone set text view error title view set text error title error message view set text error message error detail view set text error detail set dialog view builder set view view add rename button builder set positive button string dialog generic button okay dialog click listener listen click okay button click dialog arg arg nothing display error dialog builder show"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/StationContextMenu.java","station context menu java implement the station context menu the station context menu allow manipulation station object rename delete file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android app dialog fragment android content intent android support content local broadcast manager android view menu item android view view android widget popup menu org transistor org transistor core collection station context menu station context menu extend dialog fragment keys string action image change requested org transistor action image change request string station station main variable view view station activity activity collection collection station changed listener station changed listener custom listener station changed listener station change constructor station context menu station changed listener null setter custom listener set station changed listener station changed listener station change listener station changed listener station change listener initializer main variable initialize activity activity collection collection view view station activity activity collection collection view view station station display context menu show popup menu popup popup menu activity view popup inflate menu menu main list item popup set menu item click listener popup menu menu item click listener override menu item click menu item item item get item icon menu icon send local broadcast need main activity fragment intent intent set action action image change requested put extra station station local broadcast manager get instance activity get application send broadcast rename menu rename get name station string station name collection get station get station get station name construct rename dialog dialog rename dialog rename dialog rename activity collection station name station dialog rename set station renamed listener dialog rename station renamed listener override station rename station changed listener null station changed listener station change run dialog dialog rename show delete menu delete construct delete dialog dialog delete dialog delete dialog delete activity collection station run dialog dialog delete show popup show"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/DialogRename.java","dialog rename java implement the dialog rename dialog rename rename station after ask the user name file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android app alert dialog android content dialog android content share preferences android preference preference manager android view layout inflater android view view android widget edit text android widget toast org transistor org transistor core collection dialog rename dialog rename keys string playback playback string station current station current main variable activity activity collection collection station string station name station renamed listener station renamed listener custom listener station renamed listener station rename constructor dialog rename activity activity collection collection string station name station activity activity station name station name station station collection collection station renamed listener null construct and show dialog show prepare dialog builder layout inflater inflater layout inflater from activity alert dialog builder builder alert dialog builder activity get input field view view inflater inflate layout dialog rename station null edit text input field edit text view find view dialog rename station input input field set text station name set dialog view builder set view view add rename button builder set positive button string dialog button rename dialog click listener listen click delete button click dialog arg arg station name input field get text string success collection rename station station name success notify the user toast make text activity activity get string string toastalert rename unsuccessful toast length show check playback share preferences setting preference manager get shared preferences activity playback setting get playback playback put change notification notification helper notification helper notification helper activity notification helper set station name station name notification helper create notification save station change index collection get station index change index share preferences editor editor setting edit editor put station current index editor apply notify main activity fragment station renamed listener null station renamed listener station rename add cancel button builder set negative button string dialog generic button cancel dialog click listener listen click cancel button click dialog arg arg nothing display rename dialog builder show setter custom listener set station renamed listener station renamed listener station renamed listener station renamed listener station renamed listener getter name station string get station name station name"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/NotificationHelper.java","notification helper java implement the notification helper notification helper create and configure notification file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app notification android app notification manager android app pend intent android content context android content intent android support app notification compat android support app task stack builder android support content context compat org transistor player activity org transistor player service org transistor notification helper notification helper keys player service notification string action stop org transistor action stop main variable context context string station name constructor notification helper context context context context setter name station set station name string station name station name station name construct and put notification create notification notification compat builder builder notification notification notification manager notification manager string notification text string notification title notification color retrieve notification system service notification manager notification manager context get system service context notification service create content notification notification text context get string string notification swipe stop notification title context get string string notification play station name notification color context compat get color context color transistor red explicit intent notification tap intent tap intent intent context player activity explicit intent notification swipe intent swipe intent intent context player service swipe intent set action action stop artificial back stack start activity navigate backward from the activity lead home screen task stack builder stack builder task stack builder create context backstack add back stack intent but not the intent itself stack builder add parent stack player activity backstack add explicit intent notification tap stack builder add next intent tap intent pend intent wrapper notification tap pend intent tap pending intent stack builder get pending intent pend intent flag update current pend intent wrapper notification swipe pend intent swipe pending intent pend intent get service context swipe intent construct notification builder builder notification compat builder context builder set small icon drawable notification icon builder set content title notification title builder set content text notification text builder set color notification color builder set large icon large icon builder set content intent tap pending intent builder set delete intent swipe pending intent build notification notification builder build display notification notification manager notify player service notification notification"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/CollectionAdapter.java","collection adapter java implement the collection adapter collection adapter custom adapter listview file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android content context android content share preferences android graphic bitmap android preference preference manager android view layout inflater android view view android view view group android widget base adapter android widget image view android widget text view org transistor org transistor core collection java util link list collection adapter collection adapter extend base adapter keys string station current station current string playback playback main variable link list string station name link list bitmap station image activity activity collection collection collection changed listener collection changed listener playback station current custom listener collection changed listener collection change constructor collection adapter activity activity link list string station name link list bitmap station image activity activity station name station name station image station image collection null collection changed listener null load playback state activity override get count station names size override object get item position position override get item position position override view get view position view convert view view group parent view holder holder create view convert view available convert view null layout inflater inflater layout inflater activity get system service context layout inflater service convert view inflater inflate layout list item collection parent holder view holder holder station image view image view convert view find view list item station icon holder station name view text view convert view find view list item textview holder playback indicator image view convert view find view list item playback indicator holder station menu view image view convert view find view list item more button convert view set tag holder holder view holder convert view get tag set station image holder station image view set image bitmap station images get position set station name holder station name view set text station names get position set playback indicator playback station current position holder playback indicator set visibility view visible holder playback indicator set visibility view gone attach three dot menu holder station menu view set click listener view click listener override click view view station context menu menu station context menu menu initialize activity collection view position listen change invoke station context menu menu set station changed listener station context menu station changed listener override station change notify main activity fragment collection changed listener null collection changed listener collection change menu show convert view override notify data set change notify data set change load playback state activity load playback state from preference load playback state context context share preferences setting preference manager get shared preferences context station current setting get station current playback setting get playback setter collection set collection collection collection collection collection setter custom listener set collection changed listener collection changed listener collection changed listener collection changed listener collection changed listener inner cache the child view view holder image view station image view text view station name view image view playback indicator image view station menu view end inner"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/DialogDelete.java","dialog delete java implement the dialog delete dialog delete delete station after ask the user permission file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android app alert dialog android content dialog android content intent android support content local broadcast manager android widget toast org transistor org transistor core collection dialog delete dialog delete keys string action collection change org transistor action collection change main variable activity activity collection collection station station deleted listener station deleted listener custom listener station deleted listener station deleted constructor dialog delete activity activity collection collection station activity activity station station collection collection station deleted listener null construct and show dialog show alert dialog builder delete dialog alert dialog builder activity add message dialog delete dialog set message string dialog delete station message add delete button delete dialog set positive button string dialog button delete dialog click listener listen click delete button click dialog arg arg success collection delete station success notify the user toast make text activity activity get string string toastalert delete successful toast length show send local broadcast intent intent set action action collection change local broadcast manager get instance activity get application send broadcast notify main activity fragment station deleted listener null station deleted listener station deleted add cancel button delete dialog set negative button string dialog generic button cancel dialog click listener listen click cancel button click dialog arg arg nothing display delete dialog delete dialog show setter custom listener set station deleted listener station deleted listener station deleted listener station deleted listener station deleted listener"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/DialogAddStation.java","dialog add station java implement the dialog add station dialog add station ask the user stream url radio station file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android app alert dialog android content dialog android net uri android view layout inflater android view view android widget edit text org transistor dialog add station dialog add station main variable activity activity constructor dialog add station activity activity activity activity construct and show dialog show prepare dialog builder layout inflater inflater layout inflater from activity alert dialog builder builder alert dialog builder activity get input field view view inflater inflate layout dialog add station null edit text input field edit text view find view dialog add station input set dialog view builder set view view add add button builder set positive button string dialog add station button dialog click listener override click dialog dialog input field get text null string input input field get text string download and add station station fetcher station fetcher station fetcher uri parse input trim activity station fetcher execute add cancel button builder set negative button string dialog generic button cancel dialog click listener listen click cancel button click dialog arg arg nothing display add dialog builder show"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/ImageHelper.java","image helper java implement the image helper image helper format icon and symbol use the app file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android graphic bitmap android graphic bitmap factory android graphic canvas android graphic color android graphic matrix android graphic paint android net uri android parcel file descriptor android support content context compat org transistor java file descriptor java file not found exception image helper image helper main variable bitmap input image paint background color activity activity constructor when give bitmap image helper bitmap input image activity activity input image input image activity activity set background color white background color context compat get color activity color transistor white background color paint background color set color background color constructor when give uri image helper uri input image urus activity activity activity activity input image decode sampled bitmap from uri input image urus set background color white background color context compat get color activity color transistor white background color paint background color set color background color setter color background set background color color background color context compat get color activity color background color set color background color getter input image bitmap get input image input image create station image circular background bitmap create circular framed image size create empty bitmap and canvas bitmap output image bitmap create bitmap size size bitmap config argb canvas image canvas canvas output image construct circular background background color set style paint style fill size size radius size draw circular background image canvas draw circle radius background color get size original image input image height input image get height input image width input image get width calculate padding padding size define variable need transformation matrix matrix transformation matrix matrix aspect ratio translation translation landscape format and square input image width input image height aspect ratio size padding input image width translation padding translation size input image height aspect ratio portrait format input image height input image width aspect ratio size padding input image height translation padding translation size input image width aspect ratio construct transformation matrix transformation matrix post translate translation translation transformation matrix pre scale aspect ratio aspect ratio draw input image onto canvas use transformation matrix paint paint paint paint set filter bitmap image canvas draw bitmap input image transformation matrix paint output image sample down image give uri bitmap decode sampled bitmap from uri uri image urus req width req height bitmap bitmap parcel file descriptor parcel file descriptor null parcel file descriptor activity get content resolver open file descriptor image urus file not found exception todo handle error print stack trace parcel file descriptor null file descriptor file descriptor parcel file descriptor get file descriptor decode with just decode bound check dimension bitmap factory option option bitmap factory option option just decode bound bitmap factory decode file descriptor file descriptor null option calculate sample size option sample size calculate sample parameter option req width req height decode bitmap with sample size set option just decode bound bitmap bitmap factory decode file descriptor file descriptor null option bitmap null calculate parameter need scale image down calculate sample parameter bitmap factory option option req width req height get size original image height option out height width option out width sample size height req height width req width half height height half width width calculate the largest sample size value that power and keep both height and width larger than the request height and width half height sample size req height half width sample size req width sample size sample size get the dominant color within input image testing purpose get dominant color bitmap one pixel bitmap bitmap create scaled bitmap input image pixel one pixel bitmap get pixel red color red pixel green color green pixel blue color blue pixel color argb red green blue"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/StationFetcher.java","station fetcher java implement helper get radio station metadata from local storage internet the downloader run async task file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app activity android content intent android net uri android async task android environment android support content local broadcast manager android support environment compat android util log android widget toast org transistor org transistor core collection org transistor core station java file java net malformed url exception java net url station fetcher station fetcher extend async task station define log tag string log tag station fetcher get simple name keys string action collection change org transistor action collection change main variable activity activity collection collection file folder uri station uri string station uri scheme url station url folder exist constructor station fetcher uri station urus activity activity activity activity station uri station urus station uri scheme station uri get scheme get collection folder from external storage folder get collection directory collection set folder exist folder null folder exist folder exist load collection collection collection folder background thread download station override station background param folder exist station uri scheme start with http url cleanup download and station station folder station url folder exist station uri scheme start with file read file and station station folder station uri null main thread set station and activate listener override protect post execute station station station add station null station get station fetch error folder exist add station collection station add collection add station send local broadcast intent intent set action action collection change local broadcast manager get instance activity get application send broadcast station null station get station fetch error folder exist station add string error title string error message string error detail station uri scheme start with http construct error message http error title activity get resources get string string dialog error title fetch download error message activity get resources get string string dialog error message fetch download error detail build download error detail station station uri scheme start with file construct error message file error title activity get resources get string string dialog error title fetch read error message activity get resources get string string dialog error message fetch read error detail build read error details station station add construct error message write error error title activity get resources get string string dialog error title fetch write error message activity get resources get string string dialog error message fetch write error detail activity get resources get string string dialog error detail write value error title activity get resources get string string dialog error title error message activity get resources get string string dialog error message error detail activity get resources get string string dialog error detail show error dialog dialog error dialog error dialog error activity error title error message error detail dialog error show check and clean url string and set station url url cleanup remove whitespace and create url station url url station uri string trim malformed url exception print stack trace build more detail download error string string build download error detail station station construct detail string string builder string builder append activity get resources get string string dialog error message fetch general external storage append append folder append append activity get resources get string string dialog error message fetch download station url append append station uri station uri get last path segment contain station uri get last path segment contain append append activity get resources get string string dialog error message fetch general hint station null station get station fetch error string remote file content station get playlist file content remote file content null append append activity get resources get string string dialog error message fetch general file content append append remote file content log log tag remote file content string build more detail read error string string build read error details station station construct detail string string builder string builder append activity get resources get string string dialog error message fetch general external storage append append folder append append activity get resources get string string dialog error message fetch read append append station uri station uri get last path segment contain station uri get last path segment contain append append activity get resources get string string dialog error message fetch general hint station null station get station fetch error string remote file content station get playlist file content remote file content null append append activity get resources get string string dialog error message fetch general file content append append remote file content log log tag remote file content string writeable sub directory from external storage file get collection directory string sub directory file storage activity get external files dirs sub directory file file storage string state environment compat get storage state file environment media mount equal state log log tag external storage file string file toast make text activity activity get string string toastalert external storage toast length show log log tag unable access external storage finish activity activity finish null"
"/Users/sagelab/Documents/Projects/BugLocalization/Artifact-ICSE24/GUI-Bug-Localization-Data/BuggyProjects/bug-1389/app/src/main/java/org/y20k/transistor/helpers/SleepTimerService.java","sleep timer service java implement sleep timer background service the sleep timer stop any run playback after give time file part transistor radio app android copyright org license under the mit license http opensource org licens mit org transistor helper android app service android content context android content intent android count down timer android binder android support annotation nullable android support content local broadcast manager android util log android widget toast org transistor player service sleep timer service sleep timer service extend service define log tag string log tag sleep timer service get simple name keys string action play org transistor action play string action stop org transistor action stop string action timer start org transistor action timer start string action timer stop org transistor action timer stop string action timer running org transistor action timer run string extra timer duration timer duration string extra timer remaining timer remaining main variable count down timer sleep timer timer remain constructor sleep timer service override create create override destroy destroy override start command intent intent flag start check empty intent intent null log log tag null intent receive stop self stop self action timer start intent get action equal action timer start log log tag service receive command start intent have extra extra timer duration get duration from intent duration intent get extra extra timer duration set remain time timer remain timer remain timer remain duration toast make text get application add duration millisecond toast length show timer remain duration set sleep timer set sleep timer timer remain start countdown sleep timer start action timer stop intent get action equal action timer stop log log tag service receive command stop sleep timer null sleep timer cancel start sticky use service that explicitly start and stop need start sticky todo remove start service there two additional major mode operation they can decide run depend the value they from start command start sticky use service that explicitly start and stop need start not sticky start redeliver intent use service that should only remain run processing any command send they see the link documentation more detail the semantics nullable override binder bind intent intent null method start sleep timer start action start context context duration log log tag start sleep timer duration duration start sleep timer service use intent intent intent intent context sleep timer service intent set action action timer start intent put extra extra timer duration duration context start service intent method stop sleep timer start action stop context context log log tag stop sleep timer stop sleep timer service use intent intent intent intent context sleep timer service intent set action action timer stop context start service intent set sleep timer set sleep timer duration timer remain sleep timer null sleep timer cancel sleep timer null prepare timer sleep timer count down timer duration override tick millis until finished timer remain millis until finished send local broadcast need player activity fragment intent intent set action action timer running put extra extra timer remaining timer remain local broadcast manager get instance get application send broadcast log log tag sleep timer remain time timer remain override finish timer remain stop playback intent intent intent get application player service intent set action action stop start service intent send local broadcast need player activity fragment intent intent set action action timer running put extra extra timer remaining timer remain local broadcast manager get instance get application send broadcast log log tag sleep timer finish sweet dream dear user"
